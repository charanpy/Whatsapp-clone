(this.webpackJsonpwclone=this.webpackJsonpwclone||[]).push([[0],{93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(30),s=n.n(c),o=n(29),i=n(13),l=n(22),u=n(47),d=n.n(u),b=n(54),p=n(5);var j={GOOGLE_SIGN_IN_START:"GOOGLE_SIGN_IN_START",GOOGLE_SIGN_IN_SUCCESS:"GOOGLE_SIGN_IN_SUCCESS",GOOGLE_SIGN_IN_FAILURE:"GOOGLE_SIGN_IN_FAILURE",CHECK_USER_SESSION:"CHECK_USER_SESSION",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAILURE:"SIGN_IN_FAILURE",SIGN_OUT_START:"SIGN_OUT_START",SIGN_OUT_SUCCESS:"SIGN_OUT_SUCCESS",CHANGE_PROFILE_START:"CHANGE_PROFILE_START",CHANGE_PROFILE_SUCCESS:"CHANGE_PROFILE_SUCCESS"};const O={currentUser:null,loading:!1,userLoading:!1};var h=(e=O,t)=>{switch(t.type){case j.GOOGLE_SIGN_IN_START:case j.SIGN_OUT_START:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case j.CHECK_USER_SESSION:return Object(p.a)(Object(p.a)({},e),{},{loading:!0,userLoading:!0});case j.GOOGLE_SIGN_IN_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});case j.SIGN_IN_SUCCESS:return{currentUser:t.payload,loading:!1,userLoading:!1};case j.SIGN_OUT_SUCCESS:case j.GOOGLE_SIGN_IN_FAILURE:return{currentUser:null,loading:!1};case j.SIGN_IN_FAILURE:return{currentUser:null,loading:!1,userLoading:!1};case j.CHANGE_PROFILE_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{currentUser:Object(p.a)(Object(p.a)({},e.currentUser),{},{[t.payload.name]:t.payload.value})});default:return e}};const S="SET_COLOR_THEME_START",f="SET_COLOR_THEME",E="SET_COLOR_THEME_FAILURE",g="SET_COLOR_THEME_LIGHT_START",m="SET_COLOR_THEME_LIGHT",_="SET_COLOR_THEME_LIGHT_FAILURE",v=(e="dark")=>window&&localStorage.setItem("theme",JSON.stringify(e)),T={theme:"dark"};var x=(e=T,t)=>{switch(t.type){case f:return v("dark"),{theme:"dark"};case m:return v("light"),{theme:"light"};case E:case _:default:return e}};var C={DISPLAY_USER_LIST_START:"DISPLAY_USER_LIST_START",DISPLAY_USER_LIST_SUCCESS:"DISPLAY_USER_LIST_SUCCESS",DISPLAY_USER_LIST_FAILURE:"DISPLAY_USER_LIST_FAILURE",DISPLAY_ADDED_CHANNEL_START:"DISPLAY_ADDED_CHANNEL_START",DISPLAY_ADDED_CHANNEL_SUCCESS:"DISPLAY_ADDED_CHANNEL_SUCCESS",DISPLAY_ADDED_CHANNEL_FAILURE:"DISPLAY_ADDED_CHANNEL_FAILURE",CREATE_CHANNEL_START:"CREATE_CHANNEL_START",CREATE_CHANNEL_SUCCESS:"CREATE_CHANNEL_SUCCESS",CREATE_CHANNEL_FAILURE:"CREATE_CHANNEL_FAILURE",SET_CURRENT_CHANNEL_START:"SET_CURRENT_CHANNEL_START",SET_CURRENT_CHANNEL_SUCCESS:"SET_CURRENT_CHANNEL_SUCCESS",SET_CURRENT_CHANNEL_NULL_START:"SET_CURRENT_CHANNEL_NULL_START",SET_CURRENT_CHANNEL_NULL_SUCCESS:"SET_CURRENT_CHANNEL_NULL_SUCCESS"};const I={chatList:[],loading:!1,success:!1,currentChannel:null,currentChannelLoading:!1,messages:null};var A=(e=I,t)=>{switch(t.type){case C.DISPLAY_USER_LIST_START:case C.DISPLAY_ADDED_CHANNEL_START:return Object(p.a)(Object(p.a)({},e),{},{loading:!0,success:!1});case C.DISPLAY_USER_LIST_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0,chatList:[...e.chatList,...t.payload]});case C.DISPLAY_ADDED_CHANNEL_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,success:!0,chatList:t.payload});case C.DISPLAY_USER_LIST_FAILURE:case C.DISPLAY_ADDED_CHANNEL_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{success:!1,loading:!1,chatList:[]});case C.SET_CURRENT_CHANNEL_START:case C.CREATE_CHANNEL_START:case C.SET_CURRENT_CHANNEL_NULL_START:return Object(p.a)(Object(p.a)({},e),{},{currentChannelLoading:!0});case C.SET_CURRENT_CHANNEL_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{currentChannel:t.payload,currentChannelLoading:!1});case C.SET_CURRENT_CHANNEL_NULL_SUCCESS:case C.CREATE_CHANNEL_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{currentChannel:null,currentChannelLoading:!1});case C.CREATE_CHANNEL_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{currentChannelLoading:!1,currentChannel:Object(p.a)(Object(p.a)({},e.currentChannel),{},{groupId:t.payload})});default:return e}};var N={GET_MESSAGES_START:"GET_MESSAGES_START",GET_MESSAGES_SUCCESS:"GET_MESSAGES_SUCCESS",GET_MESSAGES_FAILURE:"GET_MESSAGES_FAILURE",ADD_MESSAGES_START:"ADD_MESSAGES_START",ADD_MESSAGES_SUCCESS:"ADD_MESSAGES_SUCCESS",ADD_MESSAGES_FAILURE:"ADD_MESSAGES_FAILURE",GET_REALTIME_MSG_START:"GET_REALTIME_MSG_START",GET_REALTIME_MSG_SUCCESS:"GET_REALTIME_MSG_SUCCESS",GET_REALTIME_MSG_FAILURE:"GET_REALTIME_MSG_FAILURE",SET_MSG_SEEN_START:"SET_MSG_SEEN_START",SET_MSG_SEEN_SUCCESS:"SET_MSG_SEEN_SUCCESS",SET_MSG_SEEN_FAILURE:"SET_MSG_SEEN_FAILURE",GET_NOTIFICATION_START:"GET_NOTIFICATION_START",GET_NOTIFICATION_SUCCESS:"GET_NOTIFICATION_SUCCESS",GET_NOTIFICATION_FAILURE:"GET_NOTIFICATION_FAILURE",ADD_REALTIME_NOTIFICATION_START:"ADD_REALTIME_NOTIFICATION_START",ADD_REALTIME_NOTIFICATION_SUCCESS:"ADD_REALTIME_NOTIFICATION_SUCCESS",DELETE_NOTIFICATION_START:"DELETE_NOTIFICATION_START",DELETE_NOTIFICATION_SUCCESS:"DELETE_NOTIFICATION_SUCCESS"};const L=e=>{const t=e.reduce(((e,t)=>Object(p.a)(Object(p.a)({},e),{},{[t.key]:t})),{});return console.log(t),t},R=(e,t)=>{const n=Object(p.a)({},t);return n[e]=Object(p.a)(Object(p.a)({},n[e]),{},{seen:!0}),n},y={loading:!1,messages:[],notificationLoading:!1,notifications:{}};var U=(e=y,t)=>{switch(t.type){case N.GET_MESSAGES_START:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case N.GET_MESSAGES_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});case N.GET_MESSAGES_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,messages:t.payload?L(t.payload):null});case N.GET_REALTIME_MSG_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{messages:e.messages?Object(p.a)(Object(p.a)({},e.messages),t.payload):Object(p.a)({},t.payload)});case N.SET_MSG_SEEN_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{messages:R(t.payload,e.messages)});case N.GET_NOTIFICATION_START:return Object(p.a)(Object(p.a)({},e),{},{notificationLoading:!0});case N.GET_NOTIFICATION_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{notificationLoading:!1,notifications:e.notifications?Object(p.a)(Object(p.a)({},e.notifications),{},{[t.payload.groupId]:t.payload.messages}):{[t.payload.groupId]:t.payload.messages}});case N.GET_NOTIFICATION_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{notificationLoading:!1});case N.ADD_REALTIME_NOTIFICATION_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),{},{[t.payload.groupId]:[...e.notifications[t.payload.groupId],t.payload.message]})});case N.DELETE_NOTIFICATION_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{notifications:Object(p.a)(Object(p.a)({},e.notifications),{},{[t.payload]:[]})});default:return e}};var w=Object(l.c)({user:h,theme:x,channels:A,messages:U}),k=n(3),G=n.n(k),D=n(6);const F=e=>({type:j.SIGN_IN_SUCCESS,payload:e});var M=n(16),P=n(19),H=n(28);n(64),n(66),n(95);const z={apiKey:"AIzaSyBFrlXLPxef9rkJC7asLnlVmtFp_cWxWBw",authDomain:"w-clone-f3cce.firebaseapp.com",projectId:"w-clone-f3cce",storageBucket:"w-clone-f3cce.appspot.com",messagingSenderId:"744813491643",appId:"1:744813491643:web:adbbc3511c17293e6b409e",measurementId:"G-E39XNRJFX0"};H.a.apps.length||H.a.initializeApp(z);const Y=H.a.auth(),B=H.a.storage(),J=H.a.database(),W=new H.a.auth.GoogleAuthProvider;W.setCustomParameters({prompt:"select_account"});const K=H.a.database.ServerValue.TIMESTAMP,V={state:"offline",last_changed:H.a.database.ServerValue.TIMESTAMP},q={state:"online",last_changed:H.a.database.ServerValue.TIMESTAMP},X=e=>J.ref(e),Q=function(){var e=Object(P.a)(G.a.mark((function e(){var t,n,r,a,c,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.signInWithPopup(W);case 3:return t=e.sent,n=t.user,r=n.displayName,a=n.uid,c=n.photoURL,s=n.email,e.abrupt("return",{displayName:r,uid:a,photoURL:c,email:s});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(P.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.signOut();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(P.a)(G.a.mark((function e(t){var n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=X("users"),e.next=3,n.child(t.uid).once("value");case 3:return r=e.sent,e.abrupt("return",r.val());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(P.a)(G.a.mark((function e(t){var n,r,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t?void 0:t.uid){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,n=J.ref("users/".concat(null===t||void 0===t?void 0:t.uid)),console.log("hi",n),e.next=7,n.once("value");case 7:if(!(r=e.sent).exists()){e.next=11;break}return console.log(r.val(),"ex"),e.abrupt("return",r.val());case 11:return e.next=13,n.set(Object(p.a)(Object(p.a)({},t),{},{groups:[]}));case 13:return a=e.sent,console.log(a,"no"),e.abrupt("return",a);case 18:return e.prev=18,e.t0=e.catch(2),e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(P.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.ref("users").orderByChild("displayName").startAt("%".concat(t,"%")).endAt("".concat(t,"\uf8ff")).limitToLast(2).once("value");case 3:return n=e.sent,e.abrupt("return",n.val());case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(P.a)(G.a.mark((function e(t,n){var r,a,c,s,o,i,l;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=X("users"),e.next=4,r.child(t).once("value");case 4:return a=e.sent,c=Object.values(a.val()),s=Object(M.a)(c,4),o=s[0],i=s[2],l=s[3],e.abrupt("return",{groupId:n,displayName:o,uid:l,photoURL:i});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(P.a)(G.a.mark((function e(t){var n,r,a,c,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=X("channels"),e.next=3,n.child(t).once("value");case 3:if((r=e.sent).exists()){e.next=6;break}return e.abrupt("return",[]);case 6:return a=Object.entries(r.val()),c=a.map(function(){var e=Object(P.a)(G.a.mark((function e([t,n]){var r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("private"!==n.type){e.next=5;break}return e.next=3,ne(t,n.groupId);case 3:return r=e.sent,e.abrupt("return",r);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10,Promise.all(c);case 10:return s=e.sent,console.log(s,"users"),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(P.a)(G.a.mark((function e(t){var n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(111,t),n=t.map(function(){var e=Object(P.a)(G.a.mark((function e({userId:t,groupId:n,type:r}){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(222,r,t),"private"!==r){e.next=6;break}return e.next=4,ne(t,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ce=G.a.mark(je),se=G.a.mark(Oe),oe=G.a.mark(he),ie=G.a.mark(Se),le=G.a.mark(fe),ue=G.a.mark(Ee),de=G.a.mark(ge),be=G.a.mark(me),pe=G.a.mark(_e);function je(){var e,t;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(D.b)(Q);case 3:return e=n.sent,console.log(e,21),n.next=7,Object(D.b)(ee,e);case 7:t=n.sent,console.log(t),n.next=17;break;case 11:return n.prev=11,n.t0=n.catch(0),console.log(n.t0),alert(n.t0.message),n.next=17,Object(D.c)({type:j.GOOGLE_SIGN_IN_FAILURE});case 17:case"end":return n.stop()}}),ce,null,[[0,11]])}function Oe(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(j.GOOGLE_SIGN_IN_START,je);case 2:case"end":return e.stop()}}),se)}function he(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.b)(Z);case 3:return e.next=5,Object(D.c)({type:j.SIGN_OUT_SUCCESS});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),oe,null,[[0,7]])}function Se(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(j.SIGN_OUT_START,he);case 2:case"end":return e.stop()}}),ie)}function fe({payload:e}){var t;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(D.b)($,e);case 3:return t=n.sent,n.next=6,Object(D.c)(F(t||e));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(D.c)({type:j.SIGN_IN_FAILURE});case 12:case"end":return n.stop()}}),le,null,[[0,8]])}function Ee(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(j.CHECK_USER_SESSION,fe);case 2:case"end":return e.stop()}}),ue)}function ge({payload:e}){var t,n;return G.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.name,n=e.value,r.next=3,Object(D.c)({type:j.CHANGE_PROFILE_SUCCESS,payload:{name:t,value:n}});case 3:case"end":return r.stop()}}),de)}function me(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(j.CHANGE_PROFILE_START,ge);case 2:case"end":return e.stop()}}),be)}function _e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.b)(Oe),Object(D.b)(Se),Object(D.b)(Ee),Object(D.b)(me)]);case 2:case"end":return e.stop()}}),pe)}const ve=()=>({type:S}),Te=()=>({type:g});var xe=G.a.mark(Le),Ce=G.a.mark(Re),Ie=G.a.mark(ye),Ae=G.a.mark(Ue),Ne=G.a.mark(we);function Le(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.c)({type:f});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(D.c)({type:E});case 9:case"end":return e.stop()}}),xe,null,[[0,5]])}function Re(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(S,Le);case 2:case"end":return e.stop()}}),Ce)}function ye(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.c)({type:m});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(D.c)({type:_});case 9:case"end":return e.stop()}}),Ie,null,[[0,5]])}function Ue(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(g,ye);case 2:case"end":return e.stop()}}),Ae)}function we(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.b)(Re),Object(D.b)(Ue)]);case 2:case"end":return e.stop()}}),Ne)}const ke=function(){var e=Object(P.a)(G.a.mark((function e(t,n){var r,a,c,s,o;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=X("groups"),console.log("fu"),a=X("/channels/".concat(t)),c=X("/channels/".concat(n)),s=r.push(),o=s.key,e.next=8,r.child(o).set({type:"private",createdBy:t,receiver:n,messages:[]});case 8:return e.next=10,a.child(n).set({groupId:o,userId:n,type:"private",createdAt:K});case 10:return e.next=12,c.child(t).set({groupId:o,userId:t,type:"private",createdAt:K});case 12:return e.abrupt("return",o);case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0,"oops"),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(P.a)(G.a.mark((function e(t,n,r,a){var c,s,o,i,l,u;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=X("groups"),s=c.child("".concat(t,"/messages")),o=s.push(),i=o.key,l={seen:!1,createdBy:n,message:a,key:i,createdAt:K,receiver:"".concat(r,"false")},e.next=6,s.child(i).set(l);case 6:return u=e.sent,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),De=function(){var e=Object(P.a)(G.a.mark((function e(t){var n,r,a,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=X("groups/".concat(t)),e.next=3,n.child("messages").once("value");case 3:if(r=e.sent,a=r.val(),console.log(a,"1"),a){e.next=8;break}return e.abrupt("return",null);case 8:return c=Object.keys(a).map((e=>Object(p.a)(Object(p.a)({},a[e]),{},{key:e}))),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=(e,t)=>{X("groups/".concat(e.groupId)).child("messages").orderByChild("receiver").equalTo("".concat(t,"false")).once("value",(e=>{console.log(e.val(),"fu"),e.val()&&e.forEach((e=>{e.ref.update({seen:!0,receiver:"".concat(t,"true")})}))}))},Me=function(){var e=Object(P.a)(G.a.mark((function e(t,n){var r,a,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=X("groups/".concat(t)),e.next=3,r.child("messages").orderByChild("receiver").equalTo("".concat(n,"false")).once("value");case 3:return a=e.sent,c=a.val(),console.log(c,333),e.abrupt("return",c?Object.values(c):[]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var Pe=G.a.mark(Qe),He=G.a.mark(Ze),ze=G.a.mark($e),Ye=G.a.mark(et),Be=G.a.mark(tt),Je=G.a.mark(nt),We=G.a.mark(rt),Ke=G.a.mark(at),Ve=G.a.mark(ct),qe=G.a.mark(st),Xe=G.a.mark(ot);function Qe({payload:e}){var t;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,console.log("payload",e);case 3:return n.next=5,Object(D.b)(ae,e);case 5:return t=n.sent,n.next=8,console.log(11,t);case 8:return n.next=10,Object(D.c)({type:C.DISPLAY_USER_LIST_SUCCESS,payload:t});case 10:n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(0),console.log(n.t0),n.next=17,Object(D.c)({type:C.DISPLAY_USER_LIST_FAILURE});case 17:case"end":return n.stop()}}),Pe,null,[[0,12]])}function Ze(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(C.DISPLAY_USER_LIST_START,Qe);case 2:case"end":return e.stop()}}),He)}function $e({payload:e}){var t;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,console.log("payload",e);case 3:return n.next=5,Object(D.b)(re,e);case 5:return t=n.sent,n.next=8,console.log(11,t);case 8:return n.next=10,Object(D.c)({type:C.DISPLAY_ADDED_CHANNEL_SUCCESS,payload:t});case 10:n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(0),console.log(n.t0),n.next=17,Object(D.c)({type:C.DISPLAY_ADDED_CHANNEL_FAILURE});case 17:case"end":return n.stop()}}),ze,null,[[0,12]])}function et(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(C.DISPLAY_ADDED_CHANNEL_START,$e);case 2:case"end":return e.stop()}}),Ye)}function tt({payload:e}){var t,n,r;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,console.log(e);case 3:return t=e.currentUserId,n=e.receiverId,a.next=6,Object(D.b)(ke,t,n);case 6:return r=a.sent,a.next=9,Object(D.c)({type:C.CREATE_CHANNEL_SUCCESS,payload:r});case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(0),console.log(a.t0,"oo"),a.next=16,Object(D.c)({type:C.CREATE_CHANNEL_FAILURE});case 16:case"end":return a.stop()}}),Be,null,[[0,11]])}function nt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(C.CREATE_CHANNEL_START,tt);case 2:case"end":return e.stop()}}),Je)}function rt({payload:e}){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,"chann"),t.next=3,Object(D.c)({type:C.SET_CURRENT_CHANNEL_SUCCESS,payload:e});case 3:case"end":return t.stop()}}),We)}function at(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(C.SET_CURRENT_CHANNEL_START,rt);case 2:case"end":return e.stop()}}),Ke)}function ct(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)({type:C.SET_CURRENT_CHANNEL_NULL_SUCCESS});case 2:case"end":return e.stop()}}),Ve)}function st(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(C.SET_CURRENT_CHANNEL_NULL_START,ct);case 2:case"end":return e.stop()}}),qe)}function ot(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.b)(Ze),Object(D.b)(et),Object(D.b)(at),Object(D.b)(st),Object(D.b)(nt)]);case 2:case"end":return e.stop()}}),Xe)}const it=(e=null)=>({type:N.GET_MESSAGES_SUCCESS,payload:e}),lt=e=>({type:N.ADD_MESSAGES_SUCCESS,payload:e}),ut=(e=null)=>({type:N.GET_REALTIME_MSG_SUCCESS,payload:e}),dt=e=>({type:N.ADD_REALTIME_NOTIFICATION_SUCCESS,payload:e});var bt=G.a.mark(It),pt=G.a.mark(At),jt=G.a.mark(Nt),Ot=G.a.mark(Lt),ht=G.a.mark(Rt),St=G.a.mark(yt),ft=G.a.mark(Ut),Et=G.a.mark(wt),gt=G.a.mark(kt),mt=G.a.mark(Gt),_t=G.a.mark(Dt),vt=G.a.mark(Ft),Tt=G.a.mark(Mt),xt=G.a.mark(Pt),Ct=G.a.mark(Ht);function It({payload:e}){var t;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,console.log(2,e);case 3:return n.next=5,Object(D.b)(De,e);case 5:return t=n.sent,n.next=8,console.log(t);case 8:return n.next=10,Object(D.c)(it(t));case 10:n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(0),console.log(n.t0),n.next=17,Object(D.c)({type:N.GET_MESSAGES_FAILURE});case 17:case"end":return n.stop()}}),bt,null,[[0,12]])}function At(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(N.GET_MESSAGES_START,It);case 2:case"end":return e.stop()}}),pt)}function Nt({payload:e}){var t,n,r,a,c;return G.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=e.groupId,n=e.currentUserId,r=e.receiverId,a=e.message,console.log(t,n,r,a,e),s.next=5,Object(D.b)(Ge,t,n,r,a);case 5:return c=s.sent,console.log(c),s.next=9,Object(D.c)(lt());case 9:s.next=16;break;case 11:return s.prev=11,s.t0=s.catch(0),console.log(s.t0),s.next=16,Object(D.c)({type:N.ADD_MESSAGES_FAILURE});case 16:case"end":return s.stop()}}),jt,null,[[0,11]])}function Lt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(N.ADD_MESSAGES_START,Nt);case 2:case"end":return e.stop()}}),Ot)}function Rt({payload:e}){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(D.c)(ut(e));case 3:t.next=10;break;case 5:return t.prev=5,t.t0=t.catch(0),console.log(t.t0),t.next=10,Object(D.c)({type:N.GET_REALTIME_MSG_FAILURE});case 10:case"end":return t.stop()}}),ht,null,[[0,5]])}function yt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(N.GET_REALTIME_MSG_START,Rt);case 2:case"end":return e.stop()}}),St)}function Ut({payload:e}){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.c)({type:N.SET_MSG_SEEN_SUCCESS,payload:e});case 2:case"end":return t.stop()}}),ft)}function wt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(N.SET_MSG_SEEN_START,Ut);case 2:case"end":return e.stop()}}),Et)}function kt({payload:e}){var t,n,r;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.groupId,n=e.currentUserId,a.next=4,Object(D.b)(Me,t,n);case 4:return r=a.sent,a.next=7,Object(D.c)({type:N.GET_NOTIFICATION_SUCCESS,payload:{groupId:t,messages:r}});case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),console.log(a.t0,null===a.t0||void 0===a.t0?void 0:a.t0.message),a.next=14,Object(D.c)({type:N.GET_NOTIFICATION_FAILURE});case 14:case"end":return a.stop()}}),gt,null,[[0,9]])}function Gt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)(N.GET_NOTIFICATION_START,kt);case 2:case"end":return e.stop()}}),mt)}function Dt({payload:e}){var t,n;return G.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.groupId,n=e.message,console.log(t,n),r.next=4,Object(D.c)(dt({groupId:t,message:n}));case 4:case"end":return r.stop()}}),_t)}function Ft(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(N.ADD_REALTIME_NOTIFICATION_START,Dt);case 2:case"end":return e.stop()}}),vt)}function Mt({payload:e}){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.c)({type:N.DELETE_NOTIFICATION_SUCCESS,payload:e});case 2:case"end":return t.stop()}}),Tt)}function Pt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)(N.DELETE_NOTIFICATION_START,Mt);case 2:case"end":return e.stop()}}),xt)}function Ht(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.b)(At),Object(D.b)(Lt),Object(D.b)(yt),Object(D.b)(wt),Object(D.b)(Gt),Object(D.b)(Ft),Object(D.b)(Pt)]);case 2:case"end":return e.stop()}}),Ct)}var zt=G.a.mark(Yt);function Yt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.b)(_e),Object(D.b)(we),Object(D.b)(ot),Object(D.b)(Ht)]);case 2:case"end":return e.stop()}}),zt)}const Bt=Object(b.a)(),Jt=[d.a,Bt],Wt=Object(l.e)(w,Object(l.a)(...Jt));Bt.run(Yt);var Kt=Wt,Vt=n(10),qt=n(17),Xt=n(7);const Qt=Object(Vt.a)([e=>e.theme],(e=>e.theme)),Zt=e=>e.user,$t=Object(Vt.a)([Zt],(e=>!!e.currentUser)),en=(Object(Vt.a)([Zt],(e=>e.loading)),Object(Vt.a)([Zt],(e=>{var t;return null===(t=e.currentUser)||void 0===t?void 0:t.photoURL}))),tn=(Object(Vt.a)([Zt],(e=>e.currentUser)),Object(Vt.a)([Zt],(e=>{var t;return null===(t=e.currentUser)||void 0===t?void 0:t.displayName}))),nn=Object(Vt.a)([Zt],(e=>e.userLoading)),rn=Object(Vt.a)([Zt],(e=>{var t;return null===(t=e.currentUser)||void 0===t?void 0:t.uid}));var an,cn=n(8);var sn=Xt.b.main(an||(an=Object(cn.a)(["\n  display: flex;\n  width: 100%;\n  min-height: 100vh;\n"])));const on=e=>e.channels,ln=Object(Vt.a)([on],(e=>e.loading)),un=Object(Vt.a)([on],(e=>e.chatList)),dn=Object(Vt.a)([on],(e=>e.currentChannelLoading)),bn=Object(Vt.a)([on],(e=>e.currentChannel)),pn=Object(Vt.a)([on],(e=>e.currentChannel.uid)),jn=Object(Vt.a)([on],(e=>{var t;return null===(t=e.currentChannel)||void 0===t?void 0:t.groupId}));var On,hn,Sn,fn,En,gn,mn=()=>{const e=Object(r.useState)(""),t=Object(M.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({}),s=Object(M.a)(c,2),o=s[0],i=s[1],l=Object(r.useRef)(null),u=Object(r.useRef)(null);return Object(r.useEffect)((()=>(n?l.current=setTimeout((()=>{te(n).then((e=>{console.log(e),(e=>{if(!e)return!1;console.log(o,e,49);const t=Object.keys(o).sort(),n=Object.keys(e).sort();return console.log(t,n),JSON.stringify(t)===JSON.stringify(n)})(e)||(console.log("state changed"),i(e))})).catch((e=>console.log(e)))}),500):(i({}),clearTimeout(l.current)),()=>{clearTimeout(l.current)})),[n]),[n,e=>{a(e.target.value)},o,u]};const _n=Xt.b.div(On||(On=Object(cn.a)(["\n  display: flex;\n  height: 8rem;\n  align-items: center;\n  padding: 0 1.3rem;\n  // justify-content: space-between;\n  border-bottom: 1px solid ",";\n  transition: all 500ms linear;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background: ",";\n  }\n"])),(e=>e.theme.border),(e=>e.theme.statusHover)),vn=Xt.b.div(hn||(hn=Object(cn.a)(["\n  margin-right: 2rem;\n"]))),Tn=Xt.b.div(Sn||(Sn=Object(cn.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),xn=Xt.b.span(fn||(fn=Object(cn.a)(["\n  font-size: 2.2rem;\n  color: ",";\n  font-family: 'NimbusSanTW01Con';\n  font-weight: 500;\n  letter-spacing: 1px;\n  text-transform: capitalize;\n  margin-bottom: 1rem;\n"])),(e=>e.theme.color)),Cn=Xt.b.span(En||(En=Object(cn.a)(["\n  font-size: 1.3rem;\n  color: #25d366;\n  font-family: sans-serif;\n"]))),In=Xt.b.div(gn||(gn=Object(cn.a)(["\n  height: 2rem;\n  width: 2rem;\n  border-radius: 50%;\n  background: #25d366;\n  /* padding: 1rem; */\n  margin-left: 0.8rem;\n  color: white;\n  display: inline-flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n"])));var An,Nn;const Ln=Xt.b.img(An||(An=Object(cn.a)(["\n  width: ","rem;\n  height: ","rem;\n  border-radius: calc(","rem / 2);\n"])),(e=>e.height),(e=>e.height),(e=>e.height));Xt.b.div(Nn||(Nn=Object(cn.a)([""])));var Rn=n(2);const yn=({profilePic:e,chatProfile:t=null,height:n=4})=>Object(Rn.jsx)(Ln,{src:t||e,alt:"user-photo",loading:"lazy",height:n});yn.defaultProps={chatProfile:null,height:4};const Un=Object(Vt.b)({profilePic:en});var wn=Object(i.b)(Un)(yn);const kn=e=>e.messages,Gn=Object(Vt.a)([kn],(e=>e.loading)),Dn=Object(Vt.a)([kn],(e=>e.messages));var Fn=(e,t,n=null,a,c)=>{Object(r.useEffect)((()=>{e(t,n)}),[e,t,n]),Object(r.useEffect)((()=>{const e=X("groups/".concat(t));let r,s;return a!==t&&(r=e.child("messages").orderByChild("createdAt").startAt(Date.now()),s=r.on("child_added",(e=>{var r;console.log(e.val()),e.val()&&(null===(r=e.val())||void 0===r?void 0:r.createdBy)!==n&&(e.val().seen||c(t,e.val()))}))),()=>r&&r.off("child_added",s)}),[a,t,n,c])};const Mn=({getNotificationStart:e,groupId:t,currentGroup:n,getRealtimeNotificationStart:r,msg:a})=>{var c;return Fn(e,t,null===Y||void 0===Y||null===(c=Y.currentUser)||void 0===c?void 0:c.uid,n,r),console.log(a,7768),Object(Rn.jsxs)(Cn,{children:[a&&a.length?a[a.length-1].message.substring(0,5):"",a&&a.length>0&&Object(Rn.jsxs)(In,{children:[" ",a.length]})]})};Mn.defaultProps={currentGroup:null};var Pn=Object(i.b)(((e,t)=>{return{currentGroup:jn(e),msg:(n=t.groupId,Object(Vt.a)([kn],(e=>e.notifications?e.notifications[n]:null)))(e)};var n}),(e=>({getNotificationStart:(t,n)=>e((e=>({type:N.GET_NOTIFICATION_START,payload:e}))({groupId:t,currentUserId:n})),getRealtimeNotificationStart:(t,n)=>e((e=>({type:N.ADD_REALTIME_NOTIFICATION_START,payload:e}))({groupId:t,message:n}))})))(Mn);const Hn=({displayName:e,uid:t,photoURL:n,groupId:r,setCurrentChannelStart:a})=>{const c={groupId:r,displayName:e,uid:t,photoURL:n};return Object(Rn.jsx)(Rn.Fragment,{children:Object(Rn.jsxs)(_n,{onClick:()=>a(c),tabindex:"0",children:[Object(Rn.jsx)(vn,{children:Object(Rn.jsx)(wn,{height:5,chatProfile:n})}),Object(Rn.jsxs)(Tn,{children:[Object(Rn.jsx)(xn,{children:e}),Object(Rn.jsx)(Pn,{groupId:r})]})]})})};Hn.defaultProps={groupId:null};var zn=a.a.memo(Object(i.b)(null,(e=>({setCurrentChannelStart:t=>e({type:C.SET_CURRENT_CHANNEL_START,payload:t})})))(Hn));var Yn=(e,t)=>[e.filter((([e])=>e!==t))];const Bn=Object(Vt.b)({uid:rn});var Jn,Wn,Kn,Vn=a.a.memo(Object(i.b)(Bn)((({users:e,uid:t,chatLists:n})=>{console.log("DisplayUser");const r=Yn(e,t),a=Object(M.a)(r,1)[0];return e.length>0?a.map((([e,t])=>Object(Rn.jsx)(zn,{displayName:t.displayName,uid:t.uid,photoURL:t.photoURL},e))):n.length&&n.map((({displayName:e,uid:t,photoURL:n,groupId:r})=>Object(Rn.jsx)(zn,{displayName:e,uid:t,photoURL:n,groupId:r},t)))})));const qn=Xt.b.div(Jn||(Jn=Object(cn.a)(["\n  padding: 1rem;\n  display: flex;\n  position: relative;\n  border-bottom: 0.5px solid ",";\n  /* margin-top: 6.7rem; */\n"])),(e=>e.theme.border)),Xn=Xt.b.input(Wn||(Wn=Object(cn.a)(["\n  width: ","%;\n  padding: ","rem;\n  position: relative;\n  border-radius: 25px;\n  background: ",";\n  outline: none;\n  border: none;\n  padding-left: ","rem;\n  color: ",";\n\n  &::placeholder {\n    color: ",";\n    // padding-left: 8rem;\n    font-family: sans-serif;\n    font-weight: 300;\n    font-size: 1.4rem;\n  }\n"])),(e=>e.width||100),(e=>e.icon?1:1.5),(e=>e.theme.search),(e=>e.icon?6.5:2),(e=>e.theme.textLight),(e=>e.theme.textLight)),Qn=Xt.b.i(Kn||(Kn=Object(cn.a)(["\n  color: ",";\n  font-size: 1.8rem;\n  position: absolute;\n  left: 6%;\n  top: 33%;\n"])),(e=>e.theme.Icon)),Zn=(e,t)=>(console.log(e),Object(Rn.jsxs)(Rn.Fragment,{children:[Object(Rn.jsx)(Xn,Object(p.a)(Object(p.a)({},e),{},{ref:t})),e.icon&&Object(Rn.jsx)(Qn,{className:"fas fa-search"})]}));var $n=a.a.forwardRef(Zn);const er=Object(Vt.b)({channels:un,isLoading:ln});var tr,nr,rr,ar,cr,sr=a.a.memo(Object(i.b)(er)((({channels:e,isLoading:t})=>{const n=mn(),r=Object(M.a)(n,4),a=r[0],c=r[1],s=r[2],o=r[3];return console.log("chatContainer"),Object(Rn.jsxs)(Rn.Fragment,{children:[Object(Rn.jsx)(qn,{children:Object(Rn.jsx)($n,{value:a,onChange:c,name:"search",icon:!0,placeholder:"Search users",autoComplete:"off",ref:o})}),!t&&Object(Rn.jsx)(Vn,{users:Object.entries(s)&&Object.entries(s),chatLists:e})]})})));const or=Object(Xt.b)(Tn)(tr||(tr=Object(cn.a)(["\n  margin-left: 2rem;\n  display: flex;\n  /* align-items: center; */\n"]))),ir=Xt.b.header(nr||(nr=Object(cn.a)(["\n  padding: 1rem 1.6rem;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: calc(100% - 3.2rem);\n  z-index: 1000;\n"])),(e=>e.theme.header)),lr=Xt.b.div(rr||(rr=Object(cn.a)(["\n  display: flex;\n  align-items: center;\n"]))),ur=Xt.b.button(ar||(ar=Object(cn.a)(["\n  background: transparent;\n  border: none;\n  outline: none;\n"]))),dr=Xt.b.div(cr||(cr=Object(cn.a)(["\n  display: flex;\n  align-items: center;\n"])));var br;var pr=Xt.b.i(br||(br=Object(cn.a)(["\n  color: ",";\n  font-size: ","rem;\n  margin-right: ","rem;\n  cursor: pointer;\n  -webkit-text-stroke: 0px ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),(e=>e.color&&e.theme.mode?"#707477":e.theme.Icon),(e=>e.fontSize),(e=>e.marginRight),(e=>e.color||e.theme.Icon),(e=>e.theme.mode?"rgba(255,255,255,.8)":"#212529"));const jr=({fontSize:e,marginRight:t,className:n})=>Object(Rn.jsx)(pr,{fontSize:e,marginRight:t,className:n});jr.defaultProps={fontSize:2.3,marginRight:2.8};var Or=jr,hr=n(51),Sr=n.n(hr);var fr=e=>{const t=Object(r.useState)(null),n=Object(M.a)(t,2),a=n[0],c=n[1];return console.log(e,"user state"),Object(r.useEffect)((()=>{const t=X("status/".concat(e)),n=t.on("value",(e=>{if(e.val())return console.log(e.val()),void c(e.val());c(null)}));return()=>t.off("value",n)}),[e]),a};const Er=Object(Vt.b)({id:pn});var gr=Object(i.b)(Er)((({id:e})=>{const t=fr(e);return console.log(t,"status"),Object(Rn.jsx)(Cn,{children:t&&("online"===t.state?t.state:Sr()(t.last_changed))})}));var mr=({navigateTo:e,iconName:t})=>Object(Rn.jsx)(o.b,{to:e,children:Object(Rn.jsx)(Or,{className:t})});const _r=({icon1:e,icon2:t,text:n,label:r,chatProfile:a,position:c,onClick:s})=>(console.log("Header"),Object(Rn.jsxs)(ir,{position:c,children:[Object(Rn.jsxs)(dr,{children:[Object(Rn.jsx)(wn,{chatProfile:a}),n&&Object(Rn.jsxs)(or,{children:[Object(Rn.jsx)(xn,{children:r}),Object(Rn.jsx)(gr,{})]})]}),Object(Rn.jsxs)(lr,{children:[Object(Rn.jsx)(mr,{navigateTo:"/edit",iconName:e}),Object(Rn.jsx)(ur,{as:"button",onClick:s,children:Object(Rn.jsx)(Or,{as:"button",className:t})})]})]}));_r.defaultProps={text:!1,label:null,chatProfile:null,icon1:"none",icon2:"none",onClick:()=>{}};var vr,Tr=a.a.memo(_r);var xr=Xt.b.section(vr||(vr=Object(cn.a)(["\n  display: flex;\n  background: ",";\n  width: 30%;\n  min-height: 100vh;\n  flex-direction: column;\n  position: relative;\n\n  @media (max-width: 650px) {\n    width: 100vw;\n  }\n"])),(e=>e.theme.chatContainer));var Cr,Ir=()=>(console.log("chatList"),Object(Rn.jsxs)(xr,{children:[Object(Rn.jsx)(Tr,{icon1:"fas fa-circle-notch",icon2:"fas fa-ellipsis-v",position:"left"}),Object(Rn.jsx)(sr,{})]}));var Ar=Xt.b.section(Cr||(Cr=Object(cn.a)(["\n  display: flex;\n  min-height: 100%;\n  width: 70%;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n\n  @media(max-width: 650px){\n    display: none;\n  }\n"])),(e=>e.theme.sideContainer));var Nr,Lr,Rr=Object(i.b)(null,(e=>({signOutStart:()=>e({type:j.SIGN_OUT_START}),setThemeStart:()=>e(ve()),setThemeLightStart:()=>e(Te())})))((({signOutStart:e,setThemeStart:t,setThemeLightStart:n})=>Object(Rn.jsxs)(Ar,{children:[Object(Rn.jsx)("button",{onClick:e,children:"Sign out "}),Object(Rn.jsx)("button",{onClick:t,children:"Dark "}),Object(Rn.jsx)("button",{onClick:n,children:"Light"})]}))),yr=n(36);const Ur=Xt.b.div(Nr||(Nr=Object(cn.a)(["\n  height: 100vh !important;\n  width: 100% !important;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n"])),(e=>e.theme.chatContainer)),wr=Xt.b.div(Lr||(Lr=Object(cn.a)(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid #25d366;\n  border-radius: 50%;\n  border-top-color: #fff;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 3s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"])));var kr=()=>Object(Rn.jsx)(wr,{});var Gr=()=>Object(Rn.jsx)(Ur,{children:Object(Rn.jsx)(kr,{})});var Dr=e=>t=>{let n=t.isLoading,r=Object(yr.a)(t,["isLoading"]);return console.log(n,100),n?Object(Rn.jsx)(Gr,{}):Object(Rn.jsx)(e,Object(p.a)({},r))},Fr=n(21),Mr=n.n(Fr);Mr.a.shape({groupId:Mr.a.string,displayName:Mr.a.string,uid:Mr.a.string,photoURL:Mr.a.string}),Mr.a.string.isRequired;var Pr,Hr=(e,t,n,a,c,s,o)=>{const i=e.groupId,l=e.uid;Object(r.useEffect)((()=>{i?(a(i),o(i)):n(t,l)}),[n,i,l,t,a,o]),Object(r.useEffect)((()=>{const n=X("groups");let r;return console.log("err"),i&&(r=n.child("".concat(i,"/messages")).orderByChild("createdAt").startAt(Date.now()).on("child_added",(n=>{n.val()&&(c({[n.key]:n.val()}),Fe(e,t))}))),()=>i&&n.child("".concat(i,"/messages")).off("child_added",r)}),[e,i,c,t]),Object(r.useEffect)((()=>{const e=X("groups/".concat(i,"/messages"));let t;return console.log("err"),i&&(t=e.orderByChild("seen").on("child_changed",(e=>{var t;console.log(e.val(),"ooops"),(null===(t=e.val())||void 0===t?void 0:t.seen)&&s(e.val().key)}))),()=>i&&e.child("".concat(i,"/messages")).off("child_changed",t)}),[e,i,c,s])},zr=n.p+"static/media/chat-light.bded4f44.png",Yr=n.p+"static/media/chat-dark.8cbc68b3.png";var Br,Jr,Wr,Kr,Vr=Xt.b.section(Pr||(Pr=Object(cn.a)(["\n  min-height: 100%;\n  width: 70%;\n  background: url(",");\n  display: flex;\n  flex-direction: column;\n  border-left: ",";\n  /* position: relative; */\n  background-position: center;\n  background-size: contain;\n  opacity: 1;\n  transition: all 500ms linear;\n\n  @media (max-width: 650px) {\n    ","\n  }\n"])),(e=>e.theme.mode?Yr:zr),(e=>e.theme.mode?"1px solid #EDEDED":"1px solid #2A2F32"),(({channel:e})=>e?"\n      position: absolute;\n      width: 100vw;\n      opacity: 1;\n  transition: all 500ms linear;\n\n    ":"\n  transition: all 500ms linear;\n\n    opacity: 0;\n      display: none;\n    "));const qr=Xt.b.footer(Br||(Br=Object(cn.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 1.6rem 1.6rem;\n  background: ",";\n  width: calc(100% - 3.2rem);\n  margin-top: auto;\n  z-index: 100;\n"])),(e=>e.theme.header)),Xr=Xt.b.button(Jr||(Jr=Object(cn.a)(["\n  outline: none;\n  border: none;\n  margin-left: 1rem;\n  background: transparent;\n"])));Xt.b.div(Wr||(Wr=Object(cn.a)([""]))),Xt.b.i(Kr||(Kr=Object(cn.a)([""])));var Qr=n(99);const Zr=["jpeg","jpg","png"],$r={contentType:"image/png"},ea=()=>Object(Qr.a)();var ta=(e,t,n,a,c,s,o,i,l)=>{const u=Object(r.useRef)(null),d=e.groupId,b=e.uid;return[u,()=>{var e;(null===u||void 0===u||null===(e=u.current)||void 0===e?void 0:e.value)&&(n(d,t,b,u.current.value),u.current.value="")},e=>{const t=e.target.files[0],n=null===t||void 0===t?void 0:t.name.split(".")[1],r=new FileReader;t&&Zr.includes(n)?(r.readAsDataURL(t),r.addEventListener("load",(()=>{a(!0,r.result)}))):alert("Please select jpeg/png file")},()=>{c&&(console.log(c.current),c.current.getImageScaledToCanvas().toBlob((e=>{console.log(e);const t=URL.createObjectURL(e);s(t,e)})))},()=>{const e=ea(),r=B.ref().child("public/".concat(e)).put(i,$r);r.on("state_changed",(()=>{o()}),(()=>{alert("Image upload Failed.Please try again"),o(),l()}),(()=>{r.snapshot.ref.getDownloadURL().then((e=>{n(d,t,b,e),o()}))}))}]};var na,ra,aa,ca,sa,oa=()=>{const e=Object(r.useState)({visible:!1,file:null,croppedImage:null,loading:!1,blob:null}),t=Object(M.a)(e,2),n=t[0],a=t[1],c=Object(r.useRef)(),s=n.visible,o=n.file,i=n.loading,l=n.croppedImage,u=n.blob;console.log(n);return[s,o,(e,t)=>{console.log(e,"aaa"),a(Object(p.a)(Object(p.a)({},n),{},{visible:e,file:t}))},()=>{a(Object(p.a)(Object(p.a)({},n),{},{visible:!1,file:null,croppedImage:null,loading:!1}))},c,(e,t)=>{a(Object(p.a)(Object(p.a)({},n),{},{croppedImage:e,blob:t}))},i,l,()=>{a((e=>!e))},u]},ia=n(98),la=n(52),ua=n.n(la);const da=Xt.b.div(na||(na=Object(cn.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  background: rgba(0, 0, 0, 0.7);\n  box-shadow: 0.5px 0.5px 0.5px rgb(49, 46, 46);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n"]))),ba=Xt.b.div(ra||(ra=Object(cn.a)(["\n  display: flex;\n"]))),pa=Xt.b.div(aa||(aa=Object(cn.a)(["\n  width: 50%;\n  border-radius: 8px;\n  z-index: 100000;\n  box-shadow: 0.5px 0.5px 0.5px rgb(0, 0, 0);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"]))),ja=Xt.b.button(ca||(ca=Object(cn.a)(["\n  position: absolute;\n  top: 5%;\n  right: 5%;\n  outline: none;\n  border: none;\n  background: #121212;\n  cursor: pointer;\n"]))),Oa=Xt.b.span(sa||(sa=Object(cn.a)(["\n  font-size: 1.8rem;\n  font-weight: 500;\n  color: #bb86fc;\n"])));var ha;var Sa=Xt.b.button(ha||(ha=Object(cn.a)(["\n  padding: 0.7rem;\n  background: ",";\n  color: #fff;\n  font-family: 'Open Sans Condensed';\n  font-size: 1.6rem;\n  font-weight: 600;\n  transition: all 500ms linear;\n  margin: 1.5rem 1.5rem;\n  outline: none;\n  border: none;\n  width: 10rem;\n  cursor: pointer;\n  border-radius: 8px;\n  &:hover {\n    font-weight: 600;\n    background: black;\n    color: white;\n  }\n"])),(e=>e.danger?"#CC0000":"#00C851"));const fa=({content:e,danger:t,onClick:n})=>Object(Rn.jsx)(Sa,{danger:t,onClick:n,children:e});fa.defaultProps={danger:!1};var Ea=fa;const ga=({visible:e,closeModal:t,image:n,content:r,editorRef:a,handleCrop:c,loading:s,croppedImage:o,sendImage:i})=>(console.log(e,s),Object(Rn.jsx)(ia.a,{in:e,timeout:500,classNames:"fade",unmountOnExit:!0,children:Object(Rn.jsx)(da,{children:Object(Rn.jsx)(pa,{children:s?Object(Rn.jsx)(kr,{}):Object(Rn.jsxs)(Rn.Fragment,{children:[o?Object(Rn.jsx)("img",{src:o,width:"200",height:"200",alt:"croppedImage"}):Object(Rn.jsx)(ua.a,{ref:a,image:n,width:200,height:200,border:50,scale:1.5}),Object(Rn.jsxs)(ba,{children:[Object(Rn.jsx)(Ea,{danger:!0,content:"CLOSE",onClick:t}),Object(Rn.jsx)(Ea,{content:"CROP",onClick:c}),o&&Object(Rn.jsx)(Ea,{content:r,onClick:i})]}),Object(Rn.jsx)(ja,{onClick:t,children:Object(Rn.jsx)(Oa,{children:"\u2716"})})]})})})}));ga.defaultProps={image:null,croppedImage:null};var ma=ga;const _a=({channel:e,currentUserId:t,addMessageStart:n})=>{const r=oa(),a=Object(M.a)(r,10),c=a[0],s=a[1],o=a[2],i=a[3],l=a[4],u=a[5],d=a[6],b=a[7],p=a[8],j=a[9],O=ta(e,t,n,o,l,u,p,j,i),h=Object(M.a)(O,5),S=h[0],f=h[1],E=h[2],g=h[3],m=h[4];return console.log("MessageInput"),Object(Rn.jsxs)(qr,{children:[Object(Rn.jsx)(Or,{as:"button",className:"far fa-laugh"}),Object(Rn.jsx)("label",{htmlFor:"send_file",children:Object(Rn.jsx)(Or,{className:"fas fa-paperclip"})}),Object(Rn.jsx)("input",{id:"send_file",type:"file",onChange:E}),Object(Rn.jsx)($n,{name:"message",placeholder:"Type a message",ref:S,autoComplete:"off"}),Object(Rn.jsx)(Xr,{onClick:f,children:Object(Rn.jsx)(Or,{className:"fas fa-paper-plane"})}),Object(Rn.jsx)(ma,{visible:c,closeModal:i,image:s,content:"SEND",editorRef:l,handleCrop:g,loading:d,croppedImage:b,sendImage:m})]})};_a.defaultProps={channel:null};var va=a.a.memo(Object(i.b)(null,(e=>({addMessageStart:(t,n,r,a)=>e((e=>({type:N.ADD_MESSAGES_START,payload:e}))({groupId:t,currentUserId:n,receiverId:r,message:a}))})))(_a));var Ta,xa,Ca,Ia,Aa,Na,La=(e,t,n)=>{const a=Object(r.useRef)(null);Object(r.useEffect)((()=>{Fe(e,t)}),[t,e]);return Object(r.useEffect)((()=>{(()=>{var e;null===a||void 0===a||null===(e=a.current)||void 0===e||e.scrollIntoView({behaviour:"smooth",block:"end",inline:"nearest"})})()}),[n.length]),[a]};const Ra=Object(Xt.b)(Or)(Ta||(Ta=Object(cn.a)(["\n  color: ",";\n  font-size: 1.2rem;\n  margin-left: 1rem;\n  margin-right: 0;\n  cursor: default;\n"])),(e=>e.seen?"#00acef":"#ccc")),ya=Xt.b.div(xa||(xa=Object(cn.a)(["\n  overflow-y: scroll;\n  margin: 2rem 0 1rem 0;\n  display: flex;\n  flex-direction: column;\n  height: 200px;\n  flex-grow: 1;\n"]))),Ua=Xt.b.div(Ca||(Ca=Object(cn.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 7%;\n  margin-top: 5px;\n  align-items: flex-end;\n  ","\n"])),(e=>!e.position&&"\n      align-items: flex-start;\n    ")),wa=Xt.b.div(Ia||(Ia=Object(cn.a)(["\n  font-size: 1.42rem;\n  line-height: 1.9rem;\n  position: relative;\n  border-radius: 7.5px;\n  min-width: 20%;\n  padding: 0.5rem;\n  background: ",";\n"])),(e=>e.position?e.theme.currentUserChat:e.theme.receiverChat)),ka=Xt.b.span(Aa||(Aa=Object(cn.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 15px;\n  font-size: 1.2rem;\n  color: ",";\n"])),(e=>e.theme.color)),Ga=Xt.b.span(Na||(Na=Object(cn.a)(["\n  display: block;\n  font-size: 1.8rem;\n  color: ",";\n  font-family: 'NimbusSanTW01Con';\n  word-wrap: break-word;\n  // text-transform: capitalize;\n  margin-bottom: 1.3rem;\n"])),(e=>e.theme.color));var Da,Fa=n(53),Ma=n.n(Fa);var Pa=Xt.b.img(Da||(Da=Object(cn.a)(["\n  height: ","rem;\n  width: ","rem;\n  margin-bottom: 1rem;\n"])),(e=>e.height),(e=>e.width));var Ha=({height:e=20,width:t=20,src:n})=>Object(Rn.jsx)(Pa,{height:e,width:t,src:n});const za=({message:e,position:t,timestamp:n,seen:r})=>(console.log(t,r),Object(Rn.jsx)(Ua,{position:t,children:Object(Rn.jsxs)(wa,{position:t,children:[Object(Rn.jsxs)(ka,{children:[Ma()(n,{representation:"time"}).slice(0,5),null!==r&&Object(Rn.jsx)(Ra,{className:"fas fa-check",seen:r})]}),e.includes("http")?Object(Rn.jsx)(Ha,{src:e}):Object(Rn.jsx)(Ga,{children:e})]})}));za.defaultProps={seen:null};var Ya=za;const Ba=({channel:e,currentUserId:t,messages:n})=>{const r=n?Object.values(n):[],a=La(e,t,r),c=Object(M.a)(a,1)[0];return Object(Rn.jsx)(ya,{children:n&&r.map((e=>Object(Rn.jsxs)("div",{children:[Object(Rn.jsx)(Ya,{message:e.message,position:e.createdBy===t,timestamp:e.createdAt,seen:e.createdBy===t?e.seen:null}),Object(Rn.jsx)("div",{ref:c})]},e.key+ea())))})};Ba.defaultProps={channel:null};const Ja=Object(Vt.b)({messages:Dn});var Wa=Object(i.b)(Ja)(Ba);const Ka=Object(Vt.b)({isLoading:Gn});var Va=Object(l.d)(Object(i.b)(Ka),Dr)(Wa);const qa=({channel:e,currentUserId:t,createChannelStart:n,getMessagesStart:r,getRealtimeMessagesStart:a,setSeenStart:c,deleteNotificationStart:s,setCurrentChannelNullStart:o})=>(console.log("Message",e,t),Hr(e,t,n,r,a,c,s),Object(Rn.jsxs)(Vr,{channel:!!e,children:[Object(Rn.jsx)(Tr,{icon2:"fas fa-home",onClick:o,text:!0,label:null===e||void 0===e?void 0:e.displayName,chatProfile:null===e||void 0===e?void 0:e.photoURL,position:"right"}),Object(Rn.jsx)(Va,{channel:e,currentUserId:t}),Object(Rn.jsx)(va,{channel:e,currentUserId:t})]}));qa.defaultProps={channel:null};var Xa=Object(i.b)(null,(e=>({createChannelStart:(t,n)=>e(((e,t)=>({type:C.CREATE_CHANNEL_START,payload:{currentUserId:e,receiverId:t}}))(t,n)),getMessagesStart:t=>e({type:N.GET_MESSAGES_START,payload:t}),getRealtimeMessagesStart:t=>e({type:N.GET_REALTIME_MSG_START,payload:t}),setSeenStart:t=>e((e=>({type:N.SET_MSG_SEEN_START,payload:e}))(t)),deleteNotificationStart:t=>e({type:N.DELETE_NOTIFICATION_START,payload:t}),setCurrentChannelNullStart:()=>e({type:C.SET_CURRENT_CHANNEL_NULL_START})})))(qa);const Qa=Object(Vt.b)({isLoading:dn});var Za=Object(l.d)(Object(i.b)(Qa),Dr)(Xa);const $a=({currentUserId:e,channel:t})=>(console.log("ChatPanels"),t?Object(Rn.jsx)(Za,{channel:t,currentUserId:e}):Object(Rn.jsx)(Rr,{}));$a.defaultProps={channel:null};const ec=Object(Vt.b)({currentUserId:rn,channel:bn});var tc=Object(i.b)(ec)($a);var nc=(e,t)=>{Object(r.useEffect)((()=>{const t=X("status/".concat(e)),n=X(".info/connected"),r=n.on("value",(e=>{e.val()&&t.onDisconnect().set(V).then((()=>{t.set(q)}))}));return()=>n.off("value",r)}),[e]),Object(r.useEffect)((()=>{const n=X("channels"),r=n.child(e).orderByChild("createdAt").startAt(Date.now()).on("child_added",(e=>{console.log(e.val(),"ooo"),e.val()&&(console.log("saga"),t([e.val()]))}));return()=>n.child(e).off("child_added",r)}),[e,t])};const rc=Object(Vt.b)({userId:rn});var ac,cc,sc,oc,ic,lc,uc,dc=a.a.memo(Object(i.b)(rc,(e=>({displayChatListStart:t=>e({type:C.DISPLAY_USER_LIST_START,payload:t})})))((({userId:e,displayChatListStart:t})=>(nc(e,t),console.log("Home render"),Object(Rn.jsxs)(sn,{children:[Object(Rn.jsx)(Ir,{}),Object(Rn.jsx)(tc,{})]})))));const bc=Xt.b.main(ac||(ac=Object(cn.a)(["\n  min-height: 100vh;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #ededed;\n"]))),pc=Xt.b.section(cc||(cc=Object(cn.a)(["\n  min-height: 40vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: #fff;\n  width: 30%;\n\n  @media (max-width: 850px) {\n    width: 100%;\n    background: none;\n  }\n"]))),jc=Xt.b.figure(sc||(sc=Object(cn.a)(["\n  margin: 1.3rem 0rem 2.5rem 0;\n"]))),Oc=Xt.b.div(oc||(oc=Object(cn.a)(["\n  text-align: center;\n"]))),hc=Xt.b.img(ic||(ic=Object(cn.a)(["\n  height: 8rem;\n"]))),Sc=Xt.b.figcaption(lc||(lc=Object(cn.a)(["\n  font-family: 'Open Sans Condensed';\n  font-size: 2.3rem;\n  font-weight: 600;\n  margin-top: 2.5rem;\n"]))),fc=Xt.b.button(uc||(uc=Object(cn.a)(["\n  padding: 8px 8px;\n  background: #25d366;\n  font-family: 'Open Sans Condensed', sans-serif;\n  font-size: 1.7rem;\n  color: white;\n  font-weight: 500;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  transition: all 500ms;\n  margin-bottom: 2rem;\n\n  &:hover {\n    background: #128c7e;\n  }\n"])));var Ec=n.p+"static/media/Whatsapp.02a723ea.png";var gc=(e,t)=>{console.log(e),e&&t.push("/")};const mc=Object(Vt.b)({isAuthenticated:$t});var _c=Object(i.b)(mc,(e=>({googleSignInStart:()=>e({type:j.GOOGLE_SIGN_IN_START})})))((({googleSignInStart:e,isAuthenticated:t,history:n})=>(gc(t,n),Object(Rn.jsxs)(Rn.Fragment,{children:[t&&Object(Rn.jsx)(qt.a,{to:"/"}),Object(Rn.jsx)(bc,{children:Object(Rn.jsxs)(pc,{children:[Object(Rn.jsxs)(jc,{children:[Object(Rn.jsx)(Oc,{children:Object(Rn.jsx)(hc,{src:Ec})}),Object(Rn.jsx)(Sc,{children:"SIGN IN TO WHATSAPP"})]}),Object(Rn.jsx)(fc,{onClick:e,children:"SIGN IN WITH GOOGLE"})]})})]}))));const vc=Object(Vt.b)({isLoading:nn});var Tc=Object(l.d)(Object(i.b)(vc),Dr)(_c);const xc=Object(Vt.b)({isAuthenticated:$t});var Cc,Ic=Object(i.b)(xc)((e=>{let t=e.component,n=e.isAuthenticated,r=Object(yr.a)(e,["component","isAuthenticated"]);return console.log(n,"auth"),Object(Rn.jsx)(qt.b,Object(p.a)(Object(p.a)({},r),{},{render:e=>n?Object(Rn.jsx)(t,Object(p.a)({},e)):Object(Rn.jsx)(qt.a,{to:"/signin"})}))}));var Ac=Xt.b.label(Cc||(Cc=Object(cn.a)(["\n  font-size: 2.1rem;\n  font-weight: 400;\n  font-family: 'Open Sans Condensed';\n  margin: 1.5rem 0;\n  color: #25d366;\n  cursor: pointer;\n  text-decoration: underline;\n"])));var Nc=()=>Object(Rn.jsxs)(Rn.Fragment,{children:[Object(Rn.jsx)(Ac,{htmlFor:"send",children:"Change Profile Image"}),Object(Rn.jsx)("input",{id:"send",type:"file",accept:"image/*"})]});var Lc,Rc,yc=(e,t)=>{const n=Object(r.useRef)(null);return[n,()=>{var r,a,c;if(t===(null===n||void 0===n||null===(r=n.current)||void 0===r?void 0:r.value))return alert("Updated successfully"),!1;if(!(null===n||void 0===n||null===(a=n.current)||void 0===a?void 0:a.value))return alert("Name should not be empty"),!1;return X("users").child(e).update({displayName:null===n||void 0===n||null===(c=n.current)||void 0===c?void 0:c.value}).then().catch((()=>{alert("Something went wrong!Please try again")})),!0}]};const Uc=Xt.b.label(Lc||(Lc=Object(cn.a)(["\n  font-family: 'Open Sans Condensed';\n  font-size: 2.1rem;\n  color: ",";\n  margin-bottom: 1.4rem;\n"])),(e=>e.theme.color)),wc=Object(Xt.b)($n)(Rc||(Rc=Object(cn.a)(["\n  border: none;\n  outline: none;\n  width: 20rem;\n  padding: 0.9rem;\n"]))),kc=Object(Vt.b)({username:tn,currentUserId:rn});var Gc=Object(i.b)(kc)((({username:e,currentUserId:t})=>{const n=yc(t,e),r=Object(M.a)(n,2),a=r[0],c=r[1];return Object(Rn.jsxs)(Rn.Fragment,{children:[Object(Rn.jsx)(Uc,{children:"Name"}),Object(Rn.jsx)(wc,{placeholder:"Username",autoComplete:"off",name:"username",defaultValue:e,ref:a}),Object(Rn.jsx)(Ea,{onClick:c,content:"UPDATE"})]})}));var Dc,Fc,Mc,Pc,Hc=[{id:"theme-light",name:"Light"},{id:"theme-dark",name:"Dark"}];const zc=Xt.b.div(Dc||(Dc=Object(cn.a)(["\n  display: flex;\n"]))),Yc=Xt.b.label(Fc||(Fc=Object(cn.a)(["\n  display: inline-flex;\n  align-items: center;\n  cursor: pointer;\n  margin-right: 1rem;\n"]))),Bc=Xt.b.div(Mc||(Mc=Object(cn.a)(["\n  width: 1.7rem;\n  height: 1.7rem;\n  border: ",";\n  border-radius: 50%;\n  margin-right: 1rem;\n  box-sizing: border-box;\n  padding: 0.3rem;\n  &::after {\n    content: '';\n    width: 100%;\n    height: 100%;\n    display: block;\n    background: #009879;\n    border-radius: 50%;\n    transform: scale(0);\n\n    transition: all 500ms linear;\n  }\n"])),(e=>e.theme.mode?"2px solid #d8e4e2":"2px solid #212529")),Jc=Xt.b.input(Pc||(Pc=Object(cn.a)(["\n  &:checked + ","::after {\n    transform: scale(1);\n  }\n"])),Bc);var Wc=(e,t)=>[n=>{n.target.id.includes("dark")?e():t()}];const Kc=Object(Vt.b)({theme:Qt});var Vc=Object(i.b)(Kc,(e=>({setThemeStart:()=>e(ve()),setThemeLightStart:()=>e(Te())})))((({setThemeStart:e,setThemeLightStart:t,theme:n})=>{const r=Wc(e,t),a=Object(M.a)(r,1)[0];return Object(Rn.jsxs)(Rn.Fragment,{children:[Object(Rn.jsx)(Uc,{children:"Theme"}),Object(Rn.jsx)(zc,{children:Hc.map((e=>Object(Rn.jsxs)(Yc,{htmlFor:e.id,children:[Object(Rn.jsx)(Jc,{type:"radio",id:e.id,name:"radio",onChange:a,checked:n===e.name.toLowerCase()}),Object(Rn.jsx)(Bc,{}),Object(Rn.jsx)(Uc,{style:{margin:0,fontSize:"1.8rem"},children:e.name})]},e.name)))})]})}));var qc,Xc,Qc=(e,t)=>{Object(r.useEffect)((()=>{const n=X("users").child(t),r=n.on("child_changed",(t=>{const n=t.val();if(n){const t=n.includes("http")?"photoURL":"displayName";e({name:t,value:n})}}));return()=>{n.off("child_changed",r)}}),[t,e])};const Zc=Xt.b.main(qc||(qc=Object(cn.a)(["\n  min-height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: ",";\n  position: relative;\n"])),(e=>e.theme.chatContainer)),$c=Xt.b.div(Xc||(Xc=Object(cn.a)(["\n  position: absolute;\n  top:5%;\n  left: 5%;\n"]))),es=Object(Vt.b)({userId:rn});var ts=Object(i.b)(es,(e=>({changeProfileStart:t=>e({type:j.CHANGE_PROFILE_START,payload:t})})))((({changeProfileStart:e,userId:t})=>(Qc(e,t),Object(Rn.jsxs)(Zc,{children:[Object(Rn.jsx)(wn,{height:8}),Object(Rn.jsx)(Nc,{}),Object(Rn.jsx)(Gc,{}),Object(Rn.jsx)($c,{children:Object(Rn.jsx)(mr,{navigateTo:"/",iconName:"fas fa-arrow-left"})}),Object(Rn.jsx)(Vc,{})]}))));var ns=()=>Object(Rn.jsxs)(qt.d,{children:[Object(Rn.jsx)(Ic,{exact:!0,path:"/",component:dc}),Object(Rn.jsx)(qt.b,{exact:!0,path:"/signin",component:Tc}),Object(Rn.jsx)(Ic,{path:"/edit",component:ts})]});const rs={mode:0,header:"#EDEDED",chatContainer:"#F5F5F5",sideContainer:"#F8F9FA",status:"#EDEDED",statusHover:"#EDEDED",search:"#EDEDED",textLight:"#636363",color:"#000",Icon:"#000",border:"#999",currentUserChat:"#DCF8C6",receiverChat:"#fff"},as={mode:1,header:"#2A2F32",chatContainer:"#131C21",chatList:"#131C21",sideContainer:"#262D31",status:"#1414141",statusHover:"#242424",search:"#323739",textLight:"#758C8C",color:"#fff",Icon:"#B1B3B5",border:"#2D3134",currentUserChat:"#056162",receiverChat:"#262D31"};var cs=(e,t,n,a,c)=>{const s=Object(r.useState)(!0),o=Object(M.a)(s,2),i=o[0],l=o[1];Object(r.useEffect)((()=>{const t=Y.onAuthStateChanged((t=>{if(console.log(11,t),t&&t.uid){const n=t.uid,r=t.email,a=t.photoURL,s=t.displayName;e({uid:n,email:r,photoURL:a,displayName:s}),c(n),l(!1)}else l(!1),a.push("/signin")}));return()=>{t()}}),[e,a,c]),Object(r.useEffect)((()=>{const e=window&&JSON.parse(localStorage.getItem("theme"));console.log(222,e),e&&"light"===e&&(console.log("light"),t())}),[t]);return["dark"===n?as:rs,i]};n(93);const ss=Object(Vt.b)({AppTheme:Qt});var os=Object(qt.g)(Object(i.b)(ss,(e=>({checkUserSession:t=>e((e=>({type:j.CHECK_USER_SESSION,payload:e}))(t)),setThemeLightStart:()=>e(Te()),displayAddedChatStart:t=>e({type:C.DISPLAY_ADDED_CHANNEL_START,payload:t})})))((({checkUserSession:e,setThemeLightStart:t,AppTheme:n,history:r={},displayAddedChatStart:a})=>{const c=cs(e,t,n,r,a),s=Object(M.a)(c,2),o=s[0];return s[1]?Object(Rn.jsx)(Gr,{}):Object(Rn.jsx)(Xt.a,{theme:o,children:Object(Rn.jsx)(ns,{})})})));const is=document.getElementById("root");s.a.render(Object(Rn.jsx)(i.a,{store:Kt,children:Object(Rn.jsx)(o.a,{children:Object(Rn.jsx)(os,{})})}),is)}},[[94,1,2]]]);
//# sourceMappingURL=main.e197aa70.chunk.js.map